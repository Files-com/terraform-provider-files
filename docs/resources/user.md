---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "files_user Resource - files"
subcategory: ""
description: |-
  A User represents a human or system/service user with the ability to connect to Files.com via any of the available connectivity methods (unless restricted to specific protocols).
  Users are associated with API Keys, SSH (SFTP) Keys, Notifications, Permissions, and Group memberships.
  Authentication
  The authentication_method property on a User determines exactly how that user can login and authenticate to their Files.com account. Files.com offers a variety of authentication methods to ensure flexibility, security, migration, and compliance.
  These authentication methods can be configured during user creation and can be modified at any time by site administrators. The meanings of the available values are as follows:
  
  password - Allows authentication via a password. If API Keys or SSH (SFTP) Keys are also configured, those can be used instead of the password. If Two Factor Authentication (2FA) methods are also configured, a valid 2nd factor is required in addition to the password.
  email_signup - When set upon user creation, an email will be sent to the new user with a link for them to create their password. Once the user has created their password, their authentication type will change to password.
  sso - Allows authentication via a linked Single Sign On provider. If API Keys or SSH (SFTP) Keys are also configured, those can be used instead of Single Sign On. If Two Factor Authentication (2FA) methods are also configured, a valid 2nd factor is required in addition to Single Sign On. When using this method, you must also provide a valid sso_strategy_id to associate the User to the appropriate SSO provider.
  password_with_imported_hash - Works like the password method but allows importing a hashed password in MD5, SHA-1, or SHA-256 format. Provide the imported hash in the field imported_password_hash. Upon first use, the password will be converted to Files.com's internal storage format and the authentication type will change to password. Typically only used when migrating to Files.com from another MFT solution.
  none - Does not allow authentication via username and password, but does allow authentication via API Key or SSH (SFTP) Key. Typically only used for service users.
  password_and_ssh_key - Allows authentication only by providing a password and also a valid SSH (SFTP) Key in a single attempt. If API Keys are also configured, those can be used instead of the password and key combination. This method only works with (typically enterprise) SSH/SFTP clients capable of sending both authentication methods at once. Typically only used for service users.
---

# files_user (Resource)

A User represents a human or system/service user with the ability to connect to Files.com via any of the available connectivity methods (unless restricted to specific protocols).



Users are associated with API Keys, SSH (SFTP) Keys, Notifications, Permissions, and Group memberships.





## Authentication



The `authentication_method` property on a User determines exactly how that user can login and authenticate to their Files.com account. Files.com offers a variety of authentication methods to ensure flexibility, security, migration, and compliance.



These authentication methods can be configured during user creation and can be modified at any time by site administrators. The meanings of the available values are as follows:



* `password` - Allows authentication via a password. If API Keys or SSH (SFTP) Keys are also configured, those can be used *instead* of the password. If Two Factor Authentication (2FA) methods are also configured, a valid 2nd factor is required in addition to the password.

* `email_signup` - When set upon user creation, an email will be sent to the new user with a link for them to create their password. Once the user has created their password, their authentication type will change to `password`.

* `sso` - Allows authentication via a linked Single Sign On provider. If API Keys or SSH (SFTP) Keys are also configured, those can be used *instead* of Single Sign On. If Two Factor Authentication (2FA) methods are also configured, a valid 2nd factor is required in addition to Single Sign On. When using this method, you must also provide a valid `sso_strategy_id` to associate the User to the appropriate SSO provider.

* `password_with_imported_hash` - Works like the `password` method but allows importing a hashed password in MD5, SHA-1, or SHA-256 format. Provide the imported hash in the field `imported_password_hash`. Upon first use, the password will be converted to Files.com's internal storage format and the authentication type will change to `password`. Typically only used when migrating to Files.com from another MFT solution.

* `none` - Does not allow authentication via username and password, but does allow authentication via API Key or SSH (SFTP) Key. Typically only used for service users.

* `password_and_ssh_key` - Allows authentication only by providing a password and also a valid SSH (SFTP) Key in a single attempt. If API Keys are also configured, those can be used *instead* of the password and key combination. This method only works with (typically enterprise) SSH/SFTP clients capable of sending both authentication methods at once. Typically only used for service users.

## Example Usage

```terraform
resource "files_user" "example_user" {
  avatar_delete                = false
  email                        = "john.doe@files.com"
  group_id                     = 1
  group_ids                    = "example"
  announcements_read           = false
  allowed_ips                  = "10.0.0.0/8\n127.0.0.1"
  attachments_permission       = true
  authenticate_until           = "2000-01-01T01:00:00Z"
  authentication_method        = "password"
  billing_permission           = false
  bypass_user_lifecycle_rules  = false
  bypass_site_allowed_ips      = false
  dav_permission               = true
  disabled                     = true
  ftp_permission               = true
  header_text                  = "User-specific message."
  language                     = "en"
  notification_daily_send_time = 18
  name                         = "John Doe"
  company                      = "ACME Corp."
  notes                        = "Internal notes on this user."
  office_integration_enabled   = true
  password_validity_days       = 1
  readonly_site_admin          = true
  receive_admin_alerts         = true
  require_login_by             = "2000-01-01T01:00:00Z"
  require_password_change      = true
  restapi_permission           = true
  self_managed                 = true
  sftp_permission              = true
  site_admin                   = true
  skip_welcome_screen          = true
  ssl_required                 = "always_require"
  sso_strategy_id              = 1
  subscribe_to_newsletter      = true
  require_2fa                  = "always_require"
  time_zone                    = "Pacific Time (US & Canada)"
  user_root                    = "example"
  user_home                    = "example"
  username                     = "user"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `username` (String) User's username

### Optional

- `allowed_ips` (String) A list of allowed IPs if applicable.  Newline delimited
- `announcements_read` (Boolean) Signifies that the user has read all the announcements in the UI.
- `attachments_permission` (Boolean) If `true`, the user can user create Bundles (aka Share Links). Use the bundle permission instead.
- `authenticate_until` (String) Scheduled Date/Time at which user will be deactivated
- `authentication_method` (String) How is this user authenticated?
- `avatar_delete` (Boolean) If true, the avatar will be deleted.
- `billing_permission` (Boolean) Allow this user to perform operations on the account, payments, and invoices?
- `bypass_site_allowed_ips` (Boolean) Allow this user to skip site-wide IP blacklists?
- `bypass_user_lifecycle_rules` (Boolean) Exempt this user from user lifecycle rules?
- `change_password` (String) Used for changing a password on an existing user.
- `change_password_confirmation` (String) Optional, but if provided, we will ensure that it matches the value sent in `change_password`.
- `company` (String) User's company
- `dav_permission` (Boolean) Can the user connect with WebDAV?
- `disabled` (Boolean) Is user disabled? Disabled users cannot log in, and do not count for billing purposes. Users can be automatically disabled after an inactivity period via a Site setting or schedule to be deactivated after specific date.
- `email` (String) User email address
- `ftp_permission` (Boolean) Can the user access with FTP/FTPS?
- `grant_permission` (String) Permission to grant on the User Root upon user creation. Can be blank or `full`, `read`, `write`, `list`, `read+write`, or `list+write`
- `group_id` (Number) Group ID to associate this user with.
- `group_ids` (String) Comma-separated list of group IDs of which this user is a member
- `header_text` (String) Text to display to the user in the header of the UI
- `imported_password_hash` (String) Pre-calculated hash of the user's password. If supplied, this will be used to authenticate the user on first login. Supported hash methods are MD5, SHA1, and SHA256.
- `language` (String) Preferred language
- `name` (String) User's full name
- `notes` (String) Any internal notes on the user
- `notification_daily_send_time` (Number) Hour of the day at which daily notifications should be sent. Can be in range 0 to 23
- `office_integration_enabled` (Boolean) Enable integration with Office for the web?
- `password` (String) User password.
- `password_confirmation` (String) Optional, but if provided, we will ensure that it matches the value sent in `password`.
- `password_validity_days` (Number) Number of days to allow user to use the same password
- `readonly_site_admin` (Boolean) Is the user an allowed to view all (non-billing) site configuration for this site?
- `receive_admin_alerts` (Boolean) Should the user receive admin alerts such a certificate expiration notifications and overages?
- `require_2fa` (String) 2FA required setting
- `require_login_by` (String) Require user to login by specified date otherwise it will be disabled.
- `require_password_change` (Boolean) Is a password change required upon next user login?
- `restapi_permission` (Boolean) Can this user access the Web app, Desktop app, SDKs, or REST API?  (All of these tools use the API internally, so this is one unified permission set.)
- `self_managed` (Boolean) Does this user manage it's own credentials or is it a shared/bot user?
- `sftp_permission` (Boolean) Can the user access with SFTP?
- `site_admin` (Boolean) Is the user an administrator for this site?
- `skip_welcome_screen` (Boolean) Skip Welcome page in the UI?
- `ssl_required` (String) SSL required setting
- `sso_strategy_id` (Number) SSO (Single Sign On) strategy ID for the user, if applicable.
- `subscribe_to_newsletter` (Boolean) Is the user subscribed to the newsletter?
- `time_zone` (String) User time zone
- `user_home` (String) Home folder for FTP/SFTP.  Note that this is not used for API, Desktop, or Web interface.
- `user_root` (String) Root folder for FTP (and optionally SFTP if the appropriate site-wide setting is set).  Note that this is not used for API, Desktop, or Web interface.

### Read-Only

- `active_2fa` (Boolean) Is 2fa active for the user?
- `admin_group_ids` (List of Number) List of group IDs of which this user is an administrator
- `api_keys_count` (Number) Number of API keys associated with this user
- `avatar_url` (String) URL holding the user's avatar
- `billable` (Boolean) Is this a billable user record?
- `created_at` (String) When this user was created
- `days_remaining_until_password_expire` (Number) Number of days remaining until password expires
- `disabled_expired_or_inactive` (Boolean) Computed property that returns true if user disabled or expired or inactive.
- `externally_managed` (Boolean) Is this user managed by a SsoStrategy?
- `first_login_at` (String) User's first login time
- `id` (Number) User ID
- `last_active_at` (String) User's most recent activity time, which is the latest of most recent login, most recent API use, enablement, or creation
- `last_api_use_at` (String) User's most recent API use time
- `last_dav_login_at` (String) User's most recent login time via WebDAV
- `last_desktop_login_at` (String) User's most recent login time via Desktop app
- `last_ftp_login_at` (String) User's most recent login time via FTP
- `last_login_at` (String) User's most recent login time via any protocol
- `last_protocol_cipher` (String) The most recent protocol and cipher used
- `last_restapi_login_at` (String) User's most recent login time via Rest API
- `last_sftp_login_at` (String) User's most recent login time via SFTP
- `last_web_login_at` (String) User's most recent login time via web
- `lockout_expires` (String) Time in the future that the user will no longer be locked out if applicable
- `password_expire_at` (String) Password expiration datetime
- `password_expired` (Boolean) Is user's password expired?
- `password_set_at` (String) Last time the user's password was set
- `public_keys_count` (Number) Number of public keys associated with this user
- `site_id` (Number) Site ID
- `type_of_2fa` (String) Type(s) of 2FA methods in use, for programmatic use.  Will be either `sms`, `totp`, `webauthn`, `yubi`, `email`, or multiple values sorted alphabetically and joined by an underscore.  Does not specify whether user has more than one of a given method.
- `type_of_2fa_for_display` (String) Type(s) of 2FA methods in use, formatted for displaying in the UI.  Unlike `type_of_2fa`, this value will make clear when a user has more than 1 of the same type of method.

## Import

Import is supported using the following syntax:

```shell
# Users can be imported by specifying the id.
terraform import files_user.example_user 1
```
